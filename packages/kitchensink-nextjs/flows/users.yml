description: User onboarding flow.
variants: [regular, owner]
data:
  { user, restaurant }: generate-user-data.js
start:
  route: '/'
  auth: false
steps:
  - with: document
    assert: [title, toBe, Restaurant Reviewer]
  - with: { button: Sign in }
    do: click
  - with: { input: Email }
    do: { type: $data.user.email }
  - with: { button: Sign in with TestLogin }
    do: click
  - with: { heading: Welcome to Restaurant Reviewer! }
  - switch:
      regular:
        - with: { input: Restaurant goer }
          do: click
      owner:
        - with: { input: Restaurant owner }
          do: click
  - with: { button: Continue }
    do: click
